# 数字签名与数字证书

## 数字签名

A 给 B 发送消息，A 将消息内容进行 hash 得到摘要（Digest），然后将摘要使用 A 的私钥加密得到签名（Signature）。B 收到消息后，将签名使用 A 的公钥解密得到摘要，然后也将消息进行 hash 得到摘要，将两份摘要对比，就可以确认消息是 A 发出来的。

![](./__resource_01/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D.png)

## 数字证书

有一种情况，C 想欺骗 B，它偷偷使用了 B 的电脑，将 A 的公钥换成了 C 的公钥，这时 C 就能伪装成 A 向 B 发送消息了。

为了解决这个问题，A 和 B 找证书中心（certificate authority，CA）为 A 的公钥做认证。A 将 A 的公钥交给 CA，CA 用 CA 的私钥加密生成数字证书。A 发送消息时，同时携带数字证书。B 收到消息后，将数字证书用 CA 的公钥解密，拿到 A 的公钥。这样就保证 A 的公钥一定是正确的了。

![](./__resource_01/%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6.png)
