# 数字编码

## 原码

对于有符号数，最左边一位用作符号位，0 表示正数，1 表示负数。

即：

$
[X]_{原} =
\left\{
\begin{array}{lll}
X & (0 \leqslant X<2^{n-1} ) \\
2^{n-1}-X & (-2^{n-1}<X<0) \\
\end{array}
\right.
$

## 反码

正数的反码等于其原码，而负数的反码则可以通过保留其符号位，将原码的数值位取反得到。

即：

$
[X]_{反} =
\left\{
\begin{array}{lll}
X & (0 \leqslant X<2^{n-1} ) \\
2^n-1+X & (-2^{n-1}<X<0) \\
\end{array}
\right.
$

## 补码

正数补码等于其原码；负数补码为保留符号位取反（反码）后加 1，忽略溢出位。

即：

$
[X]_{补} =
\left\{
\begin{array}{lll}
X & (0 \leqslant X<2^{n-1} ) \\
2^n+X & (-2^{n-1}<X<0) \\
\end{array}
\right.
$

正数补码的最高位恒为 0，负数补码的最高位恒为 1。

计算机中的数值运算都是用补码来进行的。因为可以统一加法和减法运算。

### 加法

$A+B=A_{补}+B_{补}$

为什么：

假设 A 和 B 是 8 位数值。如果按原码思考，$A+B=(A+B) \bmod 128$。按补码计算：$A_{补}+B_{补}=(256+A+256+B) \bmod 128=A+B$。
